2002-09-02  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* tools/gen_reference.xsh:
	many improvements, docbook stylesheet lookup with locate

	* tools/gen_grammar.pl, tools/gen_help.pl: changes to reflect new DTD

	* src/recdescent.dtd, src/xsh_grammar.xml: - documentation improved
	- fold/unfold commands added

	* lib/XML/XSH/Functions.pm: version number changed
	fold/unfold commands implemented
	XML::XSH::Map::count function added

	* lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	regenerated

	* MANIFEST, MANIFEST.SKIP, Makefile.PL: simple update

2002-08-30  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* TODO: some stuff now solved?

	* tools/gen_help.pl, tools/gen_reference.xsh:
	changed according to new recdescent.dtd layout

	* t/02gdome.t: fixed to skip tests on systems without XML::GDOME

	* src/recdescent.dtd: several documentation elements added

	* lib/XML/XSH/Functions.pm: - foreach context fix
	- new XSH command "sort" implemented
	- insert_node improvements
	- xslt parameters string interpolation added
	- some more fixes

	* lib/XML/XSH/GDOMECompat.pm, lib/XML/XSH/LibXMLCompat.pm:
	is_document, is_namespace

	* lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	regenerated

	* lib/XML/XSH.pm: XSH namespace now followed by a slash

	* xsh: version/revision number information fixes

	* src/xsh_grammar.xml: some more doc and other fixes

	* tools/gen_reference.xsh: initial commit

2002-08-28  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* lib/XML/XSH/Functions.pm:
	moved no warnings to eval to support older perl versions

	* lib/XML/XSH/Functions.pm: removed ls debug print

	* lib/XML/XSH/Functions.pm:
	* fixed Term::ReadLine->OUT->print compatibility for
	  Term::ReadLine::Gnu and older versions of Perl etc.
	  (reported by Tom Nurkkala)

2002-08-26  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* ChangeLog: *** empty log message ***

	* lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	regenerated

	* src/xsh_grammar.xml: fixed after/before locations parsing

	* t/01basic.t, t/02gdome.t: fixed missing semicolons

	* src/xsh_grammar.xml: new commands: recovering and options
	new node-type: entity-reference (use with care)

	* lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	regenerated from xsh_grammar.xml

	* lib/XML/XSH/GDOMECompat.pm, lib/XML/XSH/LibXMLCompat.pm:
	flag for recovering parser enabled

	* lib/XML/XSH/Functions.pm: - improved namespaces handling
	- list_flags and recovering implemented
	- simple folding implemented (via fold attribute in XSH namespace)
	- many bugfixes

	* lib/XML/XSH.pm: $XML::XSH::xshNS variable holds XSH namespace URI

	* xsh:
	saving/loading history from previous session to/from .xsh_history

	* TODO: new TODOs

	* Makefile.PL: require latest versions of LibXML and XUpdate

2002-08-26  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	regenerated

	* src/xsh_grammar.xml: fixed after/before locations parsing

	* t/01basic.t, t/02gdome.t: fixed missing semicolons

	* src/xsh_grammar.xml: new commands: recovering and options
	new node-type: entity-reference (use with care)

	* lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	regenerated from xsh_grammar.xml

	* lib/XML/XSH/GDOMECompat.pm, lib/XML/XSH/LibXMLCompat.pm:
	flag for recovering parser enabled

	* lib/XML/XSH/Functions.pm: - improved namespaces handling
	- list_flags and recovering implemented
	- simple folding implemented (via fold attribute in XSH namespace)
	- many bugfixes

	* lib/XML/XSH.pm: $XML::XSH::xshNS variable holds XSH namespace URI

	* xsh:
	saving/loading history from previous session to/from .xsh_history

	* TODO: new TODOs

	* Makefile.PL: require latest versions of LibXML and XUpdate

2002-08-12  Petr Pajas <pajas@ufal.ms.mff.cuni.cz>
	* lib/XML/XSH/Functions.pm: fixed pwd for elements with namespaces

2002-08-06  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* src/xsh_grammar.xml: xslt help updated

2002-07-15  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	automatically generated

	* lib/XML/XSH/Functions.pm: improved XInclude support (save_xinclude)

	* src/recdescent.dtd, src/xsh_grammar.xml, tools/gen_grammar.pl:
	improved XSH grammar

	* LICENSE:
	Added missing section "How to Apply These Terms to Your New Programs"
	(reported by Janet Casey from FSF, thx)

2002-05-30  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	update

	* src/xsh_grammar.xml: - new commands save_xinclude, backup, nobackup

	* lib/XML/XSH/Functions.pm, lib/XML/XSH/GDOMECompat.pm, lib/XML/XSH/LibXMLCompat.pm:
	- minor compatibility/bug fixes
	- implementation of save_xinclude
	- backup/nobackup implementation

	* TODO: update

2002-05-22  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* Makefile.PL: removed Text::Iconv dependency

	* lib/XML/XSH/GDOMECompat.pm, lib/XML/XSH/LibXMLCompat.pm, t/02gdome.t:
	initial commit

	* lib/XML/XSH/Functions.pm: - bug fixes
	- got rid of Text::Iconv dependency
	- experimental XML::GDOME support
	- differences between LibXML and GDOME modules
	  solved by separate Compat packages (subject to change)

	* TODO, tools/gen_grammar.pl, tools/gen_help.pl, t/01basic.t, lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	*** empty log message ***

	* src/xsh_grammar.xml: - set_load_ext_dtd bug fixed
	- added print_value and get aliases for count

	* lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Parser.pm:
	*** empty log message ***

	* xsh:
	- Experimental support for XML::GDOME as a replacement for XML::LibXML
	  (use option -g)
	- added -w flag to force validation(0) and load_ext_dtd(0) on startup

	* TODO: *** empty log message ***

	* Makefile.PL: require XML::LibXML >= 1.50

	* MANIFEST.SKIP, MANIFEST: *** empty log message ***

2002-04-19  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* lib/XML/XSH/Functions.pm: version update

	* ChangeLog: update

	* xsh: SIGINT handling changed

	* lib/XML/XSH/Functions.pm: forget use IO::File;

	* lib/XML/XSH/Functions.pm:
	using gzip -c to compress files with .gz extension

2002-04-19  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh: SIGINT handling changed

	* lib/XML/XSH/Functions.pm: forget use IO::File;

	* lib/XML/XSH/Functions.pm:
	using gzip -c to compress files with .gz extension

2002-04-17  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* lib/XML/XSH/Functions.pm: debug prints removed

	* lib/XML/XSH/Functions.pm:
	Allowed document() function to start and XPath expression.

2002-03-27  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* lib/XML/XSH/Functions.pm: key/id xpath fixed

2002-03-21  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Help.pm, lib/XML/XSH/Parser.pm:
	updated

	* lib/XML/XSH/Functions.pm:
	keep_blanks by default (should be in LibXML, but is not in recent versions)

	* lib/XML/XSH/Functions.pm, src/xsh_grammar.xml:
	new command open_PIPE allows parsing XML output of a command

2002-03-20  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* lib/XML/XSH/Functions.pm:
	- implementation of new XSH grammar features
	- charset conversion bug-fixes
	- libxml related and other bugfixes

	* src/xsh_grammar.xml:
	- parser much faster now (because of better grammar trimming)
	- if/uless/while/foreach for perl conditions too:
	    if/unless/while/foreach { perl } { commands }
	- open_HTML/save_HTML
	- xupdate
	- nodelist %v variables
	- scalar variables may be used instead of ID on many places
	- other bug fixes/improvements

	* tools/gen_grammar.pl, src/recdescent.dtd:
	repetition suffices supported

	* lib/XML/XSH/Help.pm, lib/XML/XSH/CompletionList.pm, lib/XML/XSH/Grammar.pm, lib/XML/XSH/Parser.pm:
	Re-generated.

	* xsh: ~/.xshrc support (must contain XSH commands)

	* Makefile.PL: XUpdate requirement added.

2002-03-20  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh_grammar.xml:
	- parser much faster now (because of better grammar trimming)
	- if/uless/while/foreach for perl conditions too:
	    if/unless/while/foreach { perl } { commands }
	- open_HTML/save_HTML
	- xupdate
	- nodelist %v variables
	- scalar variables may be used instead of ID on many places
	- other bug fixes/improvements

	* recdescent.dtd: repetition suffices supported

2002-03-20  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* Functions.pm: - implementation of new XSH grammar features
	- charset conversion bug-fixes
	- libxml related and other bugfixes

	* Help.pm, CompletionList.pm, Grammar.pm, Parser.pm: Re-generated.

2002-03-15  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* Functions.pm: package VERSION taken from Functions.pm

	* Functions.pm:
	Serious bug fixed in "insert attribute" and "insert element"
	implementations. Also, namespaces should work a little better now.

2002-03-14  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* Grammar.pm, Completion.pm: Minor change.

	* Functions.pm: DOM tree navigation
	Nodelist variables (%varname) introduced.
	New functions locate and pwd return canonical XPATHs

	* CompletionList.pm, Grammar.pm, Help.pm, Parser.pm:
	Generated from XML source.

2002-03-08  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* Functions.pm, Grammar.pm, Help.pm, Parser.pm: bug-fixes

2002-03-06  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* CompletionList.pm: Namespace fixed.

	* Completion.pm: bug fixed.

	* CompletionList.pm: initial commit.

	* Completion.pm:
	Completion-list moved to a separate module (which is now auto
	generated from XML source).

2002-03-05  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* Functions.pm: got rid of the ugly debug print

	* Completion.pm: Initial commit.

	* Functions.pm, Grammar.pm, Help.pm, Makefile, Parser.pm:
	File was moved from XSH/ directory.
	See the file of the same name in that directory for later revisions.

2002-02-27  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* TODO: initial commit

	* XSH/Parser.pm: recompiled

	* XSH/Help.pm: Doc update. Command name transform is an alias for xslt.

	* XSH/Functions.pm: Bugfixes:
	  dtd command: Prepending document path to a relative sysid
	  (Still cannot avoid XML::LibXML SIGSEGVs if DTD sysid not found)

	* XSH/Functions.pm:
	dtd fixed: XML::LibXML::Dtd->toString does not support format arg.

	* XSH/Help.pm: doc update

	* XSH/Grammar.pm: New commands:
	  indent
	  add/insert <node-type> <expression> namespace <namespace> <location> <xpath>

	* XSH/Functions.pm: Features:
	  simple namespaces support
	  command to enable/disable output indenting on save

	* xsh.pl: -q supresses copyright info and hint

	* LICENSE: initial commit (replaces misspelled LICENCE)

2002-02-22  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl: Version number update.

	* XSH/Parser.pm: Recompiled from Grammar.pm

	* XSH/Help.pm: New XSH commands documented.

	* XSH/Grammar.pm: Features:
	- new XSH bindings for XML::LibXML options
	  (validation, parser_expands_entities, parser_expands_xinclude,
	  keep_blanks, pedantic_parser, complete_attributes, load_ext_dtd)
	- a new command process_xinclude
	  (seems to be broken in XML::LibXML, though)

	* XSH/Functions.pm: Bugfixes:

	- dtd-related bugs corrected
	  (sorry Matt, I blamed your XML::LibXML for them)

	Features:

	- new XSH::Grammar functions implemented

	* xsh.pl:
	scratch creation moved after seting cmd-line options (probably useless)

2002-02-22  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl: Version number update.

	* XSH/Parser.pm: Recompiled from Grammar.pm

	* XSH/Help.pm: New XSH commands documented.

	* XSH/Grammar.pm: Features:
	- new XSH bindings for XML::LibXML options
	  (validation, parser_expands_entities, parser_expands_xinclude,
	  keep_blanks, pedantic_parser, complete_attributes, load_ext_dtd)
	- a new command process_xinclude
	  (seems to be broken in XML::LibXML, though)

	* XSH/Functions.pm: Bugfixes:

	- dtd-related bugs corrected
	  (sorry Matt, I blamed your XML::LibXML for them)

	Features:

	- new XSH::Grammar functions implemented

	* xsh.pl:
	scratch creation moved after seting cmd-line options (probably useless)

2002-02-18  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* ChangeLog: *** empty log message ***

	* xsh.pl: version number update

	* ChangeLog, XSH/Parser.pm: regenerated

	* XSH/Help.pm: bugfixes:
	  echo documented

	* XSH/Functions.pm: features:
	  add attribute name=value into ... construction with
	                                    unquoted expr. allowed for
	                                    single attribute and its
	                                    single-word value

	bugfixes:
	  foreach, xslt, move default id handling fixed
	  echo documented

2002-02-18  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl: version number update

	* ChangeLog, XSH/Parser.pm: regenerated

	* XSH/Help.pm: bugfixes:
	  echo documented

	* XSH/Functions.pm: features:
	  add attribute name=value into ... construction with
	                                    unquoted expr. allowed for
	                                    single attribute and its
	                                    single-word value

	bugfixes:
	  foreach, xslt, move default id handling fixed
	  echo documented

2002-02-18  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* XSH/Parser.pm: regenerated

	* XSH/Help.pm: bugfixes:
	  echo documented

	* XSH/Functions.pm: features:
	  add attribute name=value into ... construction with
	                                    unquoted expr. allowed for
	                                    single attribute and its
	                                    single-word value

	bugfixes:
	  foreach, xslt, move default id handling fixed
	  echo documented

2002-02-07  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* XSH/Grammar.pm, XSH/Functions.pm: save command fixed

2002-02-06  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* config.mk: default PREFIX changed to /usr/local

	* xsh.pl: release version update

	* config.mk: initial commit

	* INSTALL, Makefile, README, XSH/Makefile: make install added

	* ChangeLog, Makefile, XSH/Makefile: initial commit

	* XSH/Parser.pm: new compile

	* XSH/Help.pm: help update

	* XSH/Grammar.pm: new commands (defs, select) added

	* XSH/Functions.pm: list_defs added
	trying to solve some problems with validation

2002-02-06  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl: release version update

	* config.mk: initial commit

	* INSTALL, Makefile, README, XSH/Makefile: make install added

	* ChangeLog, Makefile, XSH/Makefile: initial commit

	* XSH/Parser.pm: new compile

	* XSH/Help.pm: help update

	* XSH/Grammar.pm: new commands (defs, select) added

	* XSH/Functions.pm: list_defs added
	trying to solve some problems with validation

2002-02-06  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* XSH/Parser.pm: new compile

	* XSH/Help.pm: help update

	* XSH/Grammar.pm: new commands (defs, select) added

	* XSH/Functions.pm: list_defs added
	trying to solve some problems with validation

2002-02-04  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl: XSH modularized.
	Function create added to create a new document. Now, there is at least
	one document open on startup, it is called scratch and consists of a
	single (root) element.

	* XSH/Functions.pm, XSH/Grammar.pm, XSH/Help.pm, XSH/Parser.pm:
	XSH modularized:
	  XSH::Functions - implementation of XSH language functions
	  XSH::Grammar   - XSH grammar description for RecDescent parser
	  XSH::Help      - XSH on-line help
	  XSH::Parser    - module automatically created by RecDescent from
	                   XSH::Grammar

2002-01-31  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl: exit function fixed.

	* xsh.pl: On-line help updated.

2002-01-31  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl: exit function fixed.

	* xsh.pl: On-line help updated.

2002-01-29  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl:
	grammar corrected: non-backslashed quotes allowed in inline ${{XPATH}} expressions

	* xsh.pl: Added ${{XPATH}} expansion in expressions.

	* xsh.pl: several fixes (btw, print works now:-))

	* xsh.pl: print command added.

2002-01-28  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl:
	greatly improved grammar (xpath expressions and perl blocks do not
	need quotes, shell-like quoting, semicolon may be used to separate
	commands and may be part of the last token), added new commands
	(include, eval, exec), renamed some commands (for -> map), embedded
	perl code has its own namespace (XSH::Map).

2002-01-18  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl:
	Count changed to support any type of <xpath> expressions, thus
	allowing evaluation of arithmetic, boolean and string expressions in
	addition to the expressions resulting in a node-list. This change also
	affects the if and while statements, providing them with the same power.

	* INSTALL, LICENCE, README, xsh.pl: INSTALL, LICENCE, README added
	xsh.pl - added copyright and GPL notes

2002-01-18  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl:
	Count changed to support any type of <xpath> expressions, thus
	allowing evaluation of arithmetic, boolean and string expressions in
	addition to the expressions resulting in a node-list. This change also
	affects the if and while statements, providing them with the same power.

	* INSTALL, LICENCE, README, xsh.pl: INSTALL, LICENCE, README added
	xsh.pl - added copyright and GPL notes

2002-01-17  Petr Pajas  <pajas@ufal.ms.mff.cuni.cz>

	* xsh.pl: New file.

	* xsh.pl: initial commit

